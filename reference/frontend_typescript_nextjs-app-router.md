# frontend_typescript_nextjs-app-router

## 适用场景

- Next.js App Router 前端页面、组件、状态管理重构

## 重构思路

1. 以路由和业务域拆分：`page` 负责编排，复杂逻辑下沉到 `components/*` 与 `utils/*`。
2. 大文件优先拆：先抽纯函数和类型，再抽可复用组件，最后收敛容器层。
3. 保持 UI 行为一致：先补回归测试再动结构，避免“重构顺便改行为”。

## 合规思路

1. 输入输出边界合规：用户输入统一校验，避免前端拼接未过滤内容。
2. 隐私合规：前端不落地敏感密钥，不在日志里打印隐私字段。
3. 可访问性合规：关键交互可键盘访问，语义标签和可读提示齐全。

## 最佳实践

1. 组件分层：容器组件（状态/副作用）与展示组件（纯渲染）分离。
2. TypeScript 严格约束：公共 props/事件 payload 显式类型化。
3. 样式和交互稳定：避免全局样式污染，动画/滚动仅在局部容器处理。
4. 测试策略：组件行为测试 + 页面集成测试并行，覆盖关键状态分支。
